{{ define "main" }}
<main id="main-content" class="main wrapper">
  <section class="mb-10">
    <h1 class="text-2xl font-semibold mb-4">{{ .Title }}</h1>
    {{ with .Content }}<div class="prose mb-6">{{ . }}</div>{{ end }}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {{ range .Pages }}
      <article class="card bg-white dark:bg-gray-800 rounded-2xl shadow hover:shadow-lg transition overflow-hidden">
        <a href="{{ .Permalink }}">
          {{ with .Params.cover.image }}
            <img src="{{ . | absURL }}" alt="{{ $.Params.cover.alt | default $.Title }}" class="w-full h-48 object-cover">
          {{ end }}
          <div class="p-4">
            <h2 class="text-lg font-semibold mb-1">{{ .Title }}</h2>
            <p class="meta">
              {{ with .Params.duration }}⏱ {{ . }} · {{ end }}
              {{ with .Params.price }}💶 {{ . }}{{ end }}
            </p>
            {{ with .Summary }}<p class="excerpt">{{ . | truncate 120 }}</p>{{ end }}
          </div>
        </a>
        <div class="p-4 pt-0">
          {{ with .Params.cta_label }}
            <a class="btn" href="{{ $.Params.cta_href | default "/contact/" }}">{{ . }}</a>
          {{ end }}
        </div>
      </article>
      {{ end }}
    </div>
  </section>
</main>
{{ end }}
